"use strict";(self.webpackChunkfake_tweets=self.webpackChunkfake_tweets||[]).push([[743],{743:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var r,o,i,a=t(433),l=t(861),c=t(439),s=t(757),u=t.n(s),f=t(689),p=t(168),d=t(444),h=d.ZP.div(r||(r=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  max-width: 800px;\n  margin-left: auto;\n  margin-right: auto;\n  padding-inline: 24px;\n  padding-bottom: 24px;\n"]))),x=d.ZP.div(o||(o=(0,p.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: 12px 24px;\n  margin-bottom: 24px;\n  border-bottom: 1px solid #888;\n"]))),g=d.ZP.ul(i||(i=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  margin-bottom: 24px;\n"]))),v=t(946),m=t(791),w=t(243);w.Z.defaults.baseURL="https://6421e46c86992901b2be8a71.mockapi.io/users";function Z(n){return b.apply(this,arguments)}function b(){return(b=(0,l.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.Z.get("?page=".concat(e,"&limit=").concat(3));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(u().mark((function n(e){var t,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,r=e.followers,n.next=3,w.Z.put("/".concat(t),{followers:r});case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var k=function(n,e){try{localStorage.setItem(n,JSON.stringify(e))}catch(t){console.error("Local storage set error: ",t.message)}},S=function(n){try{var e=localStorage.getItem(n);return null===e?[]:JSON.parse(e)}catch(t){console.error("Local storage get error: ",t.message)}},C=t(624),F=t(184);function L(){var n,e,t,r=null!==(n=null===(e=(0,f.TH)().state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/",o=(0,m.useState)(1),i=(0,c.Z)(o,2),s=i[0],p=i[1],d=(0,m.useState)([]),w=(0,c.Z)(d,2),b=w[0],j=w[1],L=(0,m.useState)(null!==(t=S("followingUsers"))&&void 0!==t?t:[]),U=(0,c.Z)(L,2),I=U[0],O=U[1],P=(0,m.useState)(!0),B=(0,c.Z)(P,2),E=B[0],H=B[1],J=(0,m.useState)("all"),N=(0,c.Z)(J,2),_=N[0],z=N[1];(0,m.useEffect)((function(){return k("followingUsers",I)}),[I]),(0,m.useEffect)((function(){function n(){return(n=(0,l.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z(s);case 3:(e=n.sent).length>0?j((function(n){return[].concat((0,a.Z)(n),(0,a.Z)(e))})):H(!1),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error :>> ",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[s]);var A=function(n){var e=b.findIndex((function(e){var t=e.id;return n.id===t}));I.some((function(e){var t=e.id;return n.id===t}))?(b[e].followers-=1,O(I.filter((function(e){return e.id!==n.id})))):(b[e].followers+=1,O((function(e){return[].concat((0,a.Z)(e),[n])}))),function(n){R.apply(this,arguments)}(n)};function R(){return(R=(0,l.Z)(u().mark((function n(e){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y(e);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log("error :>> ",n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))).apply(this,arguments)}return(0,F.jsx)("main",{children:(0,F.jsxs)(h,{children:[(0,F.jsxs)(x,{children:[(0,F.jsx)(v.hb,{to:r,children:"Back Home"}),(0,F.jsxs)("label",{children:["Filter by:",(0,F.jsxs)("select",{name:"followers",onChange:function(n){return z(n.target.value)},defaultValue:"all",children:[(0,F.jsx)("option",{value:"all",children:"All"}),(0,F.jsx)("option",{value:"follow",children:"Follow"}),(0,F.jsx)("option",{value:"followings",children:"Followings"})]})]})]}),(0,F.jsx)(g,{children:function(){var n=I.map((function(n){return n.id}));switch(_){case"follow":return b.filter((function(e){var t=e.id;return!n.includes(t)}));case"followings":return b.filter((function(e){var t=e.id;return n.includes(t)}));default:return b}}().map((function(n){return(0,F.jsx)("li",{children:(0,F.jsx)(v.Oe,{user:n,followingUsers:I,handleFollowingButton:A})},n.id)}))}),E&&(0,F.jsx)(C.z,{type:"button",onClick:function(){return p((function(n){return n+1}))},children:"Load more"})]})})}}}]);
//# sourceMappingURL=743.143e9406.chunk.js.map